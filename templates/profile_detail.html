{% extends 'base.html' %}

{% block content %}
<h2> {{ profile.user }}</h2>

<p><strong>Bio: </strong>{{ profile.bio }}</p>
<p><strong>Interessen: </strong>{{ profile.interests }}</p>



<!-- hier das Problem, dass er prinzipiell eine Freundschaftsanfragew sendet.. und das auch immer an mich selbst -->
<!-- ich setze aber auch in zeile 15 to_user_id = user.id   -->
{% if not user.userprofile.get_friends %}
    {% if not user_userprofile.get_outgoing_friend_request and user.id != request.user.id %}  
        <a href="{% url 'send_friend_request' to_user_id=user.id %}">Freundschaftsanfrage senden</a>
    {% elif user.id == request.user.id %}
        <p>Du kannst dir nicht selbst eine Anfrage senden, Bro!</p>
    {% else %}
        <p>Du hast schon eine Anfrage gesendet</p>
    {% endif %}
{% else %}
    <!-- user.username ist ja auch ich selbst.. was natÃ¼rlich nicht richtrig ist -->
    <p>{{ user.username }} ist bereits mit dir connected</p>
{% endif %}



<br>
<br>
<br>

<p>--------------------------------------------------</p>
<h3>Meine Freunde</h3>
    Du hast hier derzeit <strong>{{ profile.get_friends|length }}</strong> Freunde:

<ul>
    {% for friend in profile.get_friends %}
        <li><strong>{{ friend.to_user.username }}</strong>   ...ist dein Freund</li>
    {% endfor %}
</ul>






<br>
<div><a href="{% url 'friend_requests' %}"> >>> Zu den Friendrequests >>> </a></div>




{% endblock content %}
